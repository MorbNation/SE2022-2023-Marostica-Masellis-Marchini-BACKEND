import{o as V,a as D,r as U,b as n,c as s,F as r,d as _,u as e,e as o,t as u,f as x,g as a,w as v,v as h,i as C}from"./index-990f6206.js";import{f as p,l as i,v as b,s as P,a as y,b as F,c as m,d as N,p as g,e as f,g as S,h as E,i as k,j as L,k as M,m as T,n as j}from"./post_comment-ac43bace.js";const A={class:"mainWrapper"},H=["src"],K=o("br",null,null,-1),O=o("br",null,null,-1),R=o("br",null,null,-1),W=["onClick"],q=["onClick"],z=["onClick"],G=["onClick"],I=o("br",null,null,-1),J=["id"],Q={key:0,name:"newComment"},X=["onClick"],Y={key:1},Z=o("br",null,null,-1),ee=["onClick"],te=["onClick"],oe=["onClick"],ne=["onClick"],se=["onClick"],le=["id"],ae=["onClick"],ie={style:{color:"red"}},ue=["onClick"],ce=o("br",null,null,-1),de=o("br",null,null,-1),re={__name:"PostsList",setup($){return V(()=>{p()}),D(()=>{p()}),(w,d)=>{const B=U("date-format");return n(),s("div",A,[(n(!0),s(r,null,_(e(j).values,l=>(n(),s("div",{key:l.self,class:"contentBox"},[o("h4",null,"u/"+u(l.creatore_post),1),o("h2",null,u(l.titolo),1),o("img",{src:"/src/assets/"+l.media,height:"500",width:"500"},null,8,H),K,o("p",null,u(l.testo),1),(n(!0),s(r,null,_(l.tag,t=>(n(),s("p",null,"#"+u(t),1))),256)),o("p",null,"Upvotes: "+u(l.punteggio_post),1),x(B,{date:new Date(l.data)},null,8,["date"]),O,R,e(i).token?(n(),s("button",{key:0,class:"vote",onClick:t=>e(b)(1,l.id)},"Upvote",8,W)):a("",!0),e(i).token?(n(),s("button",{key:1,class:"vote",onClick:t=>e(b)(-1,l.id)},"Downvote",8,q)):a("",!0),e(i).token?(n(),s("button",{key:2,class:"smaller",onClick:t=>e(P)(l.id)},"Save",8,z)):a("",!0),o("button",{type:"button",class:"smaller",onClick:t=>{e(y)("commento"+l.id),e(F)(l.id)}},"Comms",8,G),I,o("div",{class:"contentBox",name:"commento",id:"commento"+l.id,style:{display:"none"}},[e(i).token?(n(),s("div",Q,[v(o("input",{type:"text",class:"textBox",name:"nuovocommento","onUpdate:modelValue":d[0]||(d[0]=t=>C(m)?m.value=t:null),placeholder:"Comment"},null,512),[[h,e(m)]]),o("button",{type:"button",class:"smaller",onClick:t=>e(N)(l.id)},"Submit",8,X)])):a("",!0),e(g).length==0?(n(),s("h3",Y,"No comments")):a("",!0),(n(!0),s(r,null,_(e(g),t=>(n(),s("div",{key:t.self},[o("h2",null,u(t.creatore_commento),1),o("p",null,u(t.testo),1),o("p",null,"Voto: "+u(t.punteggio_commento),1),Z,e(i).token?(n(),s("button",{key:0,type:"button",class:"vote",onClick:c=>e(f)(1,t.id)},"Upvote",8,ee)):a("",!0),e(i).token?(n(),s("button",{key:1,type:"button",class:"vote",onClick:c=>e(f)(-1,t.id)},"Downvote",8,te)):a("",!0),e(i).token?(n(),s("button",{key:2,type:"button",class:"smaller",onClick:c=>e(S)(t.id)},"Flag",8,oe)):a("",!0),e(i).username==t.creatore_commento?(n(),s("button",{key:3,type:"button",class:"smaller",onClick:c=>e(E)(t.id)},"Delete",8,ne)):a("",!0),e(i).username==t.creatore_commento?(n(),s("button",{key:4,type:"button",class:"smaller",onClick:c=>e(y)("edit"+t.id)},"Edit",8,se)):a("",!0),e(i).username==t.creatore_commento?(n(),s("div",{key:5,id:"edit"+t.id,style:{display:"none"}},[v(o("input",{type:"text",class:"textBox","onUpdate:modelValue":d[1]||(d[1]=c=>C(k)?k.value=c:null),placeholder:"Text"},null,512),[[h,e(k)]]),o("button",{type:"button",class:"smaller",onClick:c=>e(L)(t.id)},"Submit",8,ae)],8,le)):a("",!0)]))),128)),o("span",ie,u(e(M)),1)],8,J),e(i).token?(n(),s("button",{key:3,type:"button",class:"smaller",onClick:t=>e(T)(l.id)},"Flag",8,ue)):a("",!0),ce,de]))),128))])}}},ke={__name:"PostView",setup($){return(w,d)=>(n(),s("div",null,[x(re)]))}};export{ke as default};
